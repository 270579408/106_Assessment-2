<Page x:Class="_106_Assessment_2.View.Pages.Admin.EventManagement"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="White"
      Title="Event Management">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="40">

            <!-- Page Header -->
            <TextBlock Text="Event Management"
                       FontSize="32"
                       FontWeight="Bold"
                       Margin="0 0 0 20"/>

            <!-- Top Buttons -->
            <StackPanel Orientation="Horizontal" Margin="0 0 0 20">
                <Button Content="Add Event"
                        Width="150"
                        Height="40"
                        Background="#4CAF50"
                        Foreground="White"
                        Margin="0 0 10 0"
                        Click="AddEventButton_Click"/>

                <Button Content="Modify Event Page"
                        Width="160"
                        Height="40"
                        Background="#2196F3"
                        Foreground="White"
                        Click="OpenModifyEventPage_Click"/>
            </StackPanel>

            <TextBlock Text="Search event by title" FontSize="16"/>

            <!-- Search Section -->
            <StackPanel Orientation="Horizontal" Margin="0 0 0 20">
                <TextBox x:Name="SearchTextBox"
                         Width="300"
                         Height="35"
                         FontSize="14"
                         VerticalContentAlignment="Center"
                         Padding="10"/>

                <Button Content="Search"
                        Width="100"
                        Height="35"
                        Margin="10 0 0 0"
                        Click="SearchButton_Click"/>

                <Button Content="Reset"
                        Width="100"
                        Height="35"
                        Margin="10 0 0 0"
                        Click="ResetButton_Click"/>
            </StackPanel>

            <!-- Event Grid -->
            <DataGrid x:Name="EventsGrid"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      HeadersVisibility="Column"
                      RowHeight="40"
                      FontSize="14"
                      Height="500">

                <DataGrid.Columns>

                    <DataGridTextColumn Header="Title"
                                        Binding="{Binding Title}"
                                        Width="200"/>

                    <DataGridTextColumn Header="Event Date"
                                        Binding="{Binding EventDate}"
                                        Width="150"/>

                    <DataGridTextColumn Header="Created At"
                                        Binding="{Binding CreatedAt}"
                                        Width="150"/>

                    <DataGridTextColumn Header="Price"
                                        Binding="{Binding Price}"
                                        Width="120"/>

                    <!-- Actions (Modify + Delete) -->
                    <DataGridTemplateColumn Header="Actions" Width="220">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">

                                    <!-- Modify Button -->
                                    <Button Content="Modify"
                                            Width="80"
                                            Height="28"
                                            Background="#2196F3"
                                            Foreground="White"
                                            Tag="{Binding Id}"
                                            Click="ModifyEventFromRow_Click"/>

                                    <!-- Delete Button -->
                                    <Button Content="Delete"
                                            Width="80"
                                            Height="28"
                                            Background="#F44336"
                                            Foreground="White"
                                            Tag="{Binding Id}"
                                            Margin="10 0 0 0"
                                            Click="DeleteEventButton_Click"/>

                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>

        </StackPanel>
    </ScrollViewer>

</Page>
